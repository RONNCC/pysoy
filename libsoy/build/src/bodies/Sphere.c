/* Sphere.c generated by valac 0.18.1, the Vala compiler
 * generated from Sphere.gs, do not modify */

/*
 *  libsoy - soy.bodies.Sphere
 *  Copyright (C) 2006,2007,2008,2009,2010,2011,2012 Copyleft Games Group
 *
 *  This program is free software; you can redistribute it and/or modify
 *  it under the terms of the GNU Affero General Public License as published
 *  by the Free Software Foundation, either version 3 of the License, or
 *  (at your option) any later version.
 *
 *  This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU Affero General Public License for more details.
 *
 *  You should have received a copy of the GNU Affero General Public License
 *  along with this program; if not, see http://www.gnu.org/licenses
 *
 */

#include <glib.h>
#include <glib-object.h>
#include <float.h>
#include <math.h>
#include <soy-1/ode.h>
#include <stdlib.h>
#include <string.h>
#include <gee.h>
#include <GLES/gl.h>
#include <GLES/glext.h>


#define SOY_BODIES_TYPE_BODY (soy_bodies_body_get_type ())
#define SOY_BODIES_BODY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_BODIES_TYPE_BODY, soybodiesBody))
#define SOY_BODIES_BODY_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_BODIES_TYPE_BODY, soybodiesBodyClass))
#define SOY_BODIES_IS_BODY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_BODIES_TYPE_BODY))
#define SOY_BODIES_IS_BODY_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_BODIES_TYPE_BODY))
#define SOY_BODIES_BODY_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_BODIES_TYPE_BODY, soybodiesBodyClass))

typedef struct _soybodiesBody soybodiesBody;
typedef struct _soybodiesBodyClass soybodiesBodyClass;
typedef struct _soybodiesBodyPrivate soybodiesBodyPrivate;

#define SOY_SCENES_TYPE_SCENE (soy_scenes_scene_get_type ())
#define SOY_SCENES_SCENE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_SCENES_TYPE_SCENE, soyscenesScene))
#define SOY_SCENES_SCENE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_SCENES_TYPE_SCENE, soyscenesSceneClass))
#define SOY_SCENES_IS_SCENE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_SCENES_TYPE_SCENE))
#define SOY_SCENES_IS_SCENE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_SCENES_TYPE_SCENE))
#define SOY_SCENES_SCENE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_SCENES_TYPE_SCENE, soyscenesSceneClass))

typedef struct _soyscenesScene soyscenesScene;
typedef struct _soyscenesSceneClass soyscenesSceneClass;

#define SOY_BODIES_TYPE_SPHERE (soy_bodies_sphere_get_type ())
#define SOY_BODIES_SPHERE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_BODIES_TYPE_SPHERE, soybodiesSphere))
#define SOY_BODIES_SPHERE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_BODIES_TYPE_SPHERE, soybodiesSphereClass))
#define SOY_BODIES_IS_SPHERE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_BODIES_TYPE_SPHERE))
#define SOY_BODIES_IS_SPHERE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_BODIES_TYPE_SPHERE))
#define SOY_BODIES_SPHERE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_BODIES_TYPE_SPHERE, soybodiesSphereClass))

typedef struct _soybodiesSphere soybodiesSphere;
typedef struct _soybodiesSphereClass soybodiesSphereClass;
typedef struct _soybodiesSpherePrivate soybodiesSpherePrivate;

#define SOY_MATERIALS_TYPE_MATERIAL (soy_materials_material_get_type ())
#define SOY_MATERIALS_MATERIAL(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_MATERIALS_TYPE_MATERIAL, soymaterialsMaterial))
#define SOY_MATERIALS_MATERIAL_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_MATERIALS_TYPE_MATERIAL, soymaterialsMaterialClass))
#define SOY_MATERIALS_IS_MATERIAL(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_MATERIALS_TYPE_MATERIAL))
#define SOY_MATERIALS_IS_MATERIAL_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_MATERIALS_TYPE_MATERIAL))
#define SOY_MATERIALS_MATERIAL_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_MATERIALS_TYPE_MATERIAL, soymaterialsMaterialClass))

typedef struct _soymaterialsMaterial soymaterialsMaterial;
typedef struct _soymaterialsMaterialClass soymaterialsMaterialClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))

#define SOY_ATOMS_TYPE_POSITION (soy_atoms_position_get_type ())
#define SOY_ATOMS_POSITION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_ATOMS_TYPE_POSITION, soyatomsPosition))
#define SOY_ATOMS_POSITION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_ATOMS_TYPE_POSITION, soyatomsPositionClass))
#define SOY_ATOMS_IS_POSITION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_ATOMS_TYPE_POSITION))
#define SOY_ATOMS_IS_POSITION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_ATOMS_TYPE_POSITION))
#define SOY_ATOMS_POSITION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_ATOMS_TYPE_POSITION, soyatomsPositionClass))

typedef struct _soyatomsPosition soyatomsPosition;
typedef struct _soyatomsPositionClass soyatomsPositionClass;
#define _dGeomDestroy0(var) ((var == NULL) ? NULL : (var = (dGeomDestroy (var), NULL)))
typedef struct _soyscenesScenePrivate soyscenesScenePrivate;

#define SOY_BODIES_TYPE_LIGHT (soy_bodies_light_get_type ())
#define SOY_BODIES_LIGHT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_BODIES_TYPE_LIGHT, soybodiesLight))
#define SOY_BODIES_LIGHT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_BODIES_TYPE_LIGHT, soybodiesLightClass))
#define SOY_BODIES_IS_LIGHT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_BODIES_TYPE_LIGHT))
#define SOY_BODIES_IS_LIGHT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_BODIES_TYPE_LIGHT))
#define SOY_BODIES_LIGHT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_BODIES_TYPE_LIGHT, soybodiesLightClass))

typedef struct _soybodiesLight soybodiesLight;
typedef struct _soybodiesLightClass soybodiesLightClass;

#define SOY_JOINTS_TYPE_JOINT (soy_joints_joint_get_type ())
#define SOY_JOINTS_JOINT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_JOINTS_TYPE_JOINT, soyjointsJoint))
#define SOY_JOINTS_JOINT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_JOINTS_TYPE_JOINT, soyjointsJointClass))
#define SOY_JOINTS_IS_JOINT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_JOINTS_TYPE_JOINT))
#define SOY_JOINTS_IS_JOINT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_JOINTS_TYPE_JOINT))
#define SOY_JOINTS_JOINT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_JOINTS_TYPE_JOINT, soyjointsJointClass))

typedef struct _soyjointsJoint soyjointsJoint;
typedef struct _soyjointsJointClass soyjointsJointClass;

#define SOY_CONTROLLERS_TYPE_CONTROLLER (soy_controllers_controller_get_type ())
#define SOY_CONTROLLERS_CONTROLLER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_CONTROLLERS_TYPE_CONTROLLER, soycontrollersController))
#define SOY_CONTROLLERS_CONTROLLER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_CONTROLLERS_TYPE_CONTROLLER, soycontrollersControllerClass))
#define SOY_CONTROLLERS_IS_CONTROLLER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_CONTROLLERS_TYPE_CONTROLLER))
#define SOY_CONTROLLERS_IS_CONTROLLER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_CONTROLLERS_TYPE_CONTROLLER))
#define SOY_CONTROLLERS_CONTROLLER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_CONTROLLERS_TYPE_CONTROLLER, soycontrollersControllerClass))

typedef struct _soycontrollersController soycontrollersController;
typedef struct _soycontrollersControllerClass soycontrollersControllerClass;

#define SOY_CONTROLLERS_TYPE_VIRTUAL_CONTROLLER (soy_controllers_virtual_controller_get_type ())
#define SOY_CONTROLLERS_VIRTUAL_CONTROLLER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_CONTROLLERS_TYPE_VIRTUAL_CONTROLLER, soycontrollersVirtualController))
#define SOY_CONTROLLERS_VIRTUAL_CONTROLLER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_CONTROLLERS_TYPE_VIRTUAL_CONTROLLER, soycontrollersVirtualControllerClass))
#define SOY_CONTROLLERS_IS_VIRTUAL_CONTROLLER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_CONTROLLERS_TYPE_VIRTUAL_CONTROLLER))
#define SOY_CONTROLLERS_IS_VIRTUAL_CONTROLLER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_CONTROLLERS_TYPE_VIRTUAL_CONTROLLER))
#define SOY_CONTROLLERS_VIRTUAL_CONTROLLER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_CONTROLLERS_TYPE_VIRTUAL_CONTROLLER, soycontrollersVirtualControllerClass))

typedef struct _soycontrollersVirtualController soycontrollersVirtualController;
typedef struct _soycontrollersVirtualControllerClass soycontrollersVirtualControllerClass;

#define SOY_FIELDS_TYPE_FIELD (soy_fields_field_get_type ())
#define SOY_FIELDS_FIELD(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SOY_FIELDS_TYPE_FIELD, soyfieldsField))
#define SOY_FIELDS_FIELD_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SOY_FIELDS_TYPE_FIELD, soyfieldsFieldClass))
#define SOY_FIELDS_IS_FIELD(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SOY_FIELDS_TYPE_FIELD))
#define SOY_FIELDS_IS_FIELD_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SOY_FIELDS_TYPE_FIELD))
#define SOY_FIELDS_FIELD_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SOY_FIELDS_TYPE_FIELD, soyfieldsFieldClass))

typedef struct _soyfieldsField soyfieldsField;
typedef struct _soyfieldsFieldClass soyfieldsFieldClass;
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

struct _soybodiesBody {
	GObject parent_instance;
	soybodiesBodyPrivate * priv;
	struct dxBody* body;
	struct dxGeom* geom;
	gchar* key;
	GMutex mutex;
	soyscenesScene* scene;
	GeeHashMap* tags_;
};

struct _soybodiesBodyClass {
	GObjectClass parent_class;
	void (*create_geom) (soybodiesBody* self, GObject* geom_param, gfloat geom_scalar);
	void (*add_extra) (soybodiesBody* self);
	void (*remove_extra) (soybodiesBody* self);
	gfloat (*pointDepth) (soybodiesBody* self, gfloat x, gfloat y, gfloat z);
	gfloat (*volume) (soybodiesBody* self);
	gint (*finite) (soybodiesBody* self);
	void (*mult_model_matrix) (soybodiesBody* self);
	void (*render) (soybodiesBody* self);
	void (*calcFogCoords) (soybodiesBody* self, gfloat _depth);
};

struct _soybodiesSphere {
	soybodiesBody parent_instance;
	soybodiesSpherePrivate * priv;
};

struct _soybodiesSphereClass {
	soybodiesBodyClass parent_class;
};

struct _soybodiesSpherePrivate {
	soymaterialsMaterial* _material;
	GLfloat _radius;
	guint _subdivisions;
};

struct _soyscenesScene {
	GObject parent_instance;
	soyscenesScenePrivate * priv;
	struct dxWorld* world;
	struct dxSpace* space;
	GRWLock stepLock;
	GeeHashSet* lights;
	GeeHashMap* bodies;
	GeeArrayList* joints;
	GeeHashSet* Controllers;
	GeeHashMap* fields;
};

struct _soyscenesSceneClass {
	GObjectClass parent_class;
	void (*do_in_step) (soyscenesScene* self);
	void (*render) (soyscenesScene* self, GLfloat fov, GLfloat aspect, GLfloat znear, GLfloat zfar);
};


static gpointer soy_bodies_sphere_parent_class = NULL;
extern soymaterialsMaterial* soy_default_material;
extern gulong GeomBody;

GType soy_bodies_body_get_type (void) G_GNUC_CONST;
GType soy_scenes_scene_get_type (void) G_GNUC_CONST;
GType soy_bodies_sphere_get_type (void) G_GNUC_CONST;
GType soy_materials_material_get_type (void) G_GNUC_CONST;
#define SOY_BODIES_SPHERE_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), SOY_BODIES_TYPE_SPHERE, soybodiesSpherePrivate))
enum  {
	SOY_BODIES_SPHERE_DUMMY_PROPERTY,
	SOY_BODIES_SPHERE_MATERIAL,
	SOY_BODIES_SPHERE_RADIUS,
	SOY_BODIES_SPHERE_SUBDIVISIONS
};
GType soy_atoms_position_get_type (void) G_GNUC_CONST;
soybodiesSphere* soy_bodies_sphere_new (soyatomsPosition* position, gfloat radius, soymaterialsMaterial* material);
soybodiesSphere* soy_bodies_sphere_construct (GType object_type, soyatomsPosition* position, gfloat radius, soymaterialsMaterial* material);
soybodiesBody* soy_bodies_body_new (soyatomsPosition* position, GObject* geom_param, gfloat geom_scalar);
soybodiesBody* soy_bodies_body_construct (GType object_type, soyatomsPosition* position, GObject* geom_param, gfloat geom_scalar);
soymaterialsMaterial* soy_materials_material_new (void);
soymaterialsMaterial* soy_materials_material_construct (GType object_type);
void soy_bodies_sphere_set_material (soybodiesSphere* self, soymaterialsMaterial* value);
static void soy_bodies_sphere_real_create_geom (soybodiesBody* base, GObject* geom_param, gfloat geom_scalar);
static gfloat soy_bodies_sphere_real_volume (soybodiesBody* base);
static void soy_bodies_sphere_real_render (soybodiesBody* base);
void soy_bodies_body_mult_model_matrix (soybodiesBody* self);
gboolean soy_materials_material_render (soymaterialsMaterial* self, gint pass, GLvoid* tslvs);
static void _soy_bodies_sphere_sphere (soybodiesSphere* self, GLfloat radius, GLint slices, GLint stacks);
guint soy_bodies_sphere_get_subdivisions (soybodiesSphere* self);
soymaterialsMaterial* soy_bodies_sphere_get_material (soybodiesSphere* self);
gfloat soy_bodies_sphere_get_radius (soybodiesSphere* self);
void soy_bodies_sphere_set_radius (soybodiesSphere* self, gfloat value);
GType soy_bodies_light_get_type (void) G_GNUC_CONST;
GType soy_joints_joint_get_type (void) G_GNUC_CONST;
GType soy_controllers_controller_get_type (void) G_GNUC_CONST;
GType soy_controllers_virtual_controller_get_type (void) G_GNUC_CONST;
GType soy_fields_field_get_type (void) G_GNUC_CONST;
void soy_bodies_sphere_set_subdivisions (soybodiesSphere* self, guint value);
static void soy_bodies_sphere_finalize (GObject* obj);
static void _vala_soy_bodies_sphere_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);
static void _vala_soy_bodies_sphere_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec);


soybodiesSphere* soy_bodies_sphere_construct (GType object_type, soyatomsPosition* position, gfloat radius, soymaterialsMaterial* material) {
	soybodiesSphere * self = NULL;
	soyatomsPosition* _tmp0_;
	gfloat _tmp1_;
	soymaterialsMaterial* _tmp2_;
	_tmp0_ = position;
	_tmp1_ = radius;
	self = (soybodiesSphere*) soy_bodies_body_construct (object_type, _tmp0_, NULL, _tmp1_);
	_tmp2_ = material;
	if (_tmp2_ == NULL) {
		soymaterialsMaterial* _tmp3_;
		soymaterialsMaterial* _tmp5_;
		_tmp3_ = soy_default_material;
		if (_tmp3_ == NULL) {
			soymaterialsMaterial* _tmp4_;
			_tmp4_ = soy_materials_material_new ();
			_g_object_unref0 (soy_default_material);
			soy_default_material = _tmp4_;
		}
		_tmp5_ = soy_default_material;
		soy_bodies_sphere_set_material (self, _tmp5_);
	} else {
		soymaterialsMaterial* _tmp6_;
		_tmp6_ = material;
		soy_bodies_sphere_set_material (self, _tmp6_);
	}
	return self;
}


soybodiesSphere* soy_bodies_sphere_new (soyatomsPosition* position, gfloat radius, soymaterialsMaterial* material) {
	return soy_bodies_sphere_construct (SOY_BODIES_TYPE_SPHERE, position, radius, material);
}


static void soy_bodies_sphere_real_create_geom (soybodiesBody* base, GObject* geom_param, gfloat geom_scalar) {
	soybodiesSphere * self;
	gfloat _tmp0_;
	GLfloat _tmp1_;
	struct dxGeom* _tmp2_;
	struct dxGeom* _tmp3_;
	gulong _tmp4_;
	struct dxGeom* _tmp5_;
	self = (soybodiesSphere*) base;
	_tmp0_ = geom_scalar;
	self->priv->_radius = (GLfloat) _tmp0_;
	self->priv->_subdivisions = (guint) 120;
	_tmp1_ = self->priv->_radius;
	_tmp2_ = dCreateSphere (NULL, (dReal) _tmp1_);
	_dGeomDestroy0 (((soybodiesBody*) self)->geom);
	((soybodiesBody*) self)->geom = _tmp2_;
	_tmp3_ = ((soybodiesBody*) self)->geom;
	_tmp4_ = GeomBody;
	dGeomSetCategoryBits (_tmp3_, _tmp4_);
	_tmp5_ = ((soybodiesBody*) self)->geom;
	dGeomSetData (_tmp5_, (void*) self);
}


static gfloat soy_bodies_sphere_real_volume (soybodiesBody* base) {
	soybodiesSphere * self;
	gfloat result = 0.0F;
	GLfloat _tmp0_;
	gdouble _tmp1_ = 0.0;
	self = (soybodiesSphere*) base;
	_tmp0_ = self->priv->_radius;
	_tmp1_ = pow ((gdouble) _tmp0_, (gdouble) 3);
	result = (gfloat) (((4 / 3) * _tmp1_) * 3.1416);
	return result;
}


static void soy_bodies_sphere_real_render (soybodiesBody* base) {
	soybodiesSphere * self;
	gint i;
	self = (soybodiesSphere*) base;
	i = 0;
	glMatrixMode (GL_MODELVIEW);
	glPushMatrix ();
	g_mutex_lock (&((soybodiesBody*) self)->mutex);
	soy_bodies_body_mult_model_matrix ((soybodiesBody*) self);
	while (TRUE) {
		soymaterialsMaterial* _tmp0_;
		gint _tmp1_;
		gboolean _tmp2_ = FALSE;
		GLfloat _tmp3_;
		guint _tmp4_;
		guint _tmp5_;
		guint _tmp6_;
		guint _tmp7_;
		gint _tmp8_;
		_tmp0_ = self->priv->_material;
		_tmp1_ = i;
		_tmp2_ = soy_materials_material_render (_tmp0_, _tmp1_, NULL);
		if (!_tmp2_) {
			break;
		}
		_tmp3_ = self->priv->_radius;
		_tmp4_ = soy_bodies_sphere_get_subdivisions (self);
		_tmp5_ = _tmp4_;
		_tmp6_ = soy_bodies_sphere_get_subdivisions (self);
		_tmp7_ = _tmp6_;
		_soy_bodies_sphere_sphere (self, _tmp3_, (GLint) _tmp5_, (GLint) _tmp7_);
		_tmp8_ = i;
		i = _tmp8_ + 1;
	}
	g_mutex_unlock (&((soybodiesBody*) self)->mutex);
	glMatrixMode (GL_MODELVIEW);
	glPopMatrix ();
}


static void _soy_bodies_sphere_sphere (soybodiesSphere* self, GLfloat radius, GLint slices, GLint stacks) {
	GLuint CACHE_SIZE;
	GLuint _tmp0_;
	GLfloat* _tmp1_ = NULL;
	GLfloat* sinCache1a;
	gint sinCache1a_length1;
	gint _sinCache1a_size_;
	GLuint _tmp2_;
	GLfloat* _tmp3_ = NULL;
	GLfloat* cosCache1a;
	gint cosCache1a_length1;
	gint _cosCache1a_size_;
	GLuint _tmp4_;
	GLfloat* _tmp5_ = NULL;
	GLfloat* sinCache2a;
	gint sinCache2a_length1;
	gint _sinCache2a_size_;
	GLuint _tmp6_;
	GLfloat* _tmp7_ = NULL;
	GLfloat* cosCache2a;
	gint cosCache2a_length1;
	gint _cosCache2a_size_;
	GLuint _tmp8_;
	GLfloat* _tmp9_ = NULL;
	GLfloat* sinCache3a;
	gint sinCache3a_length1;
	gint _sinCache3a_size_;
	GLuint _tmp10_;
	GLfloat* _tmp11_ = NULL;
	GLfloat* cosCache3a;
	gint cosCache3a_length1;
	gint _cosCache3a_size_;
	GLuint _tmp12_;
	GLfloat* _tmp13_ = NULL;
	GLfloat* sinCache1b;
	gint sinCache1b_length1;
	gint _sinCache1b_size_;
	GLuint _tmp14_;
	GLfloat* _tmp15_ = NULL;
	GLfloat* cosCache1b;
	gint cosCache1b_length1;
	gint _cosCache1b_size_;
	GLuint _tmp16_;
	GLfloat* _tmp17_ = NULL;
	GLfloat* sinCache2b;
	gint sinCache2b_length1;
	gint _sinCache2b_size_;
	GLuint _tmp18_;
	GLfloat* _tmp19_ = NULL;
	GLfloat* cosCache2b;
	gint cosCache2b_length1;
	gint _cosCache2b_size_;
	GLuint _tmp20_;
	GLfloat* _tmp21_ = NULL;
	GLfloat* sinCache3b;
	gint sinCache3b_length1;
	gint _sinCache3b_size_;
	GLuint _tmp22_;
	GLfloat* _tmp23_ = NULL;
	GLfloat* cosCache3b;
	gint cosCache3b_length1;
	gint _cosCache3b_size_;
	GLfloat zLow = 0.0F;
	GLfloat zHigh = 0.0F;
	gfloat sintemp1;
	gfloat sintemp2;
	gfloat sintemp3;
	gfloat sintemp4;
	gfloat costemp3;
	gfloat costemp4;
	GLuint _tmp24_;
	GLfloat* _tmp25_ = NULL;
	GLfloat* vertices;
	gint vertices_length1;
	gint vertices_length2;
	GLuint _tmp26_;
	GLfloat* _tmp27_ = NULL;
	GLfloat* normals;
	gint normals_length1;
	gint normals_length2;
	GLint _tmp28_;
	GLuint _tmp29_;
	GLint _tmp31_;
	GLuint _tmp32_;
	gboolean _tmp34_ = FALSE;
	gboolean _tmp35_ = FALSE;
	GLint _tmp36_;
	gboolean _tmp38_;
	gboolean _tmp40_;
	GLfloat* _tmp97_;
	gint _tmp97__length1;
	GLfloat _tmp98_;
	GLfloat* _tmp99_;
	gint _tmp99__length1;
	GLint _tmp100_;
	GLfloat _tmp101_;
	GLfloat* _tmp134_;
	gint _tmp134__length1;
	GLint _tmp135_;
	GLfloat* _tmp136_;
	gint _tmp136__length1;
	GLfloat _tmp137_;
	GLfloat _tmp138_;
	GLfloat* _tmp139_;
	gint _tmp139__length1;
	GLint _tmp140_;
	GLfloat* _tmp141_;
	gint _tmp141__length1;
	GLfloat _tmp142_;
	GLfloat _tmp143_;
	GLfloat* _tmp144_;
	gint _tmp144__length1;
	GLint _tmp145_;
	GLfloat* _tmp146_;
	gint _tmp146__length1;
	GLfloat _tmp147_;
	GLfloat _tmp148_;
	GLfloat* _tmp149_;
	gint _tmp149__length1;
	GLint _tmp150_;
	GLfloat* _tmp151_;
	gint _tmp151__length1;
	GLfloat _tmp152_;
	GLfloat _tmp153_;
	GLfloat* _tmp154_;
	gint _tmp154__length1;
	GLint _tmp155_;
	GLfloat* _tmp156_;
	gint _tmp156__length1;
	GLfloat _tmp157_;
	GLfloat _tmp158_;
	GLfloat* _tmp159_;
	gint _tmp159__length1;
	GLint _tmp160_;
	GLfloat* _tmp161_;
	gint _tmp161__length1;
	GLfloat _tmp162_;
	GLfloat _tmp163_;
	GLfloat* _tmp164_;
	gint _tmp164__length1;
	gint _tmp164__length2;
	GLfloat* _tmp165_;
	gint _tmp165__length1;
	gint _tmp165__length2;
	gint start;
	GLint _tmp166_;
	GLint finish;
	GLfloat* _tmp167_;
	gint _tmp167__length1;
	GLfloat _tmp168_;
	GLfloat* _tmp169_;
	gint _tmp169__length1;
	GLfloat _tmp170_;
	GLfloat* _tmp171_;
	gint _tmp171__length1;
	GLfloat _tmp172_;
	GLfloat* _tmp173_;
	gint _tmp173__length1;
	GLfloat _tmp174_;
	GLfloat* _tmp175_;
	gint _tmp175__length1;
	gint _tmp175__length2;
	GLfloat* _tmp176_;
	gint _tmp176__length1;
	GLfloat _tmp177_;
	GLfloat* _tmp178_;
	gint _tmp178__length1;
	GLfloat _tmp179_;
	GLfloat _tmp180_;
	GLfloat* _tmp181_;
	gint _tmp181__length1;
	gint _tmp181__length2;
	GLfloat* _tmp182_;
	gint _tmp182__length1;
	GLfloat _tmp183_;
	GLfloat* _tmp184_;
	gint _tmp184__length1;
	GLfloat _tmp185_;
	GLfloat _tmp186_;
	GLfloat* _tmp187_;
	gint _tmp187__length1;
	gint _tmp187__length2;
	GLfloat* _tmp188_;
	gint _tmp188__length1;
	GLfloat _tmp189_;
	GLfloat _tmp190_;
	GLfloat* _tmp191_;
	gint _tmp191__length1;
	gint _tmp191__length2;
	GLfloat _tmp192_;
	GLfloat* _tmp193_;
	gint _tmp193__length1;
	gint _tmp193__length2;
	GLfloat _tmp194_;
	GLfloat* _tmp195_;
	gint _tmp195__length1;
	gint _tmp195__length2;
	GLfloat _tmp196_;
	GLfloat _tmp197_;
	GLint _tmp244_;
	GLfloat* _tmp245_;
	gint _tmp245__length1;
	GLint _tmp246_;
	GLfloat _tmp247_;
	GLfloat* _tmp248_;
	gint _tmp248__length1;
	GLint _tmp249_;
	GLfloat _tmp250_;
	GLfloat* _tmp251_;
	gint _tmp251__length1;
	GLint _tmp252_;
	GLfloat _tmp253_;
	GLfloat* _tmp254_;
	gint _tmp254__length1;
	GLint _tmp255_;
	GLfloat _tmp256_;
	GLfloat* _tmp257_;
	gint _tmp257__length1;
	gint _tmp257__length2;
	GLfloat* _tmp258_;
	gint _tmp258__length1;
	GLint _tmp259_;
	GLfloat _tmp260_;
	GLfloat* _tmp261_;
	gint _tmp261__length1;
	GLint _tmp262_;
	GLfloat _tmp263_;
	GLfloat _tmp264_;
	GLfloat* _tmp265_;
	gint _tmp265__length1;
	gint _tmp265__length2;
	GLfloat* _tmp266_;
	gint _tmp266__length1;
	GLint _tmp267_;
	GLfloat _tmp268_;
	GLfloat* _tmp269_;
	gint _tmp269__length1;
	GLint _tmp270_;
	GLfloat _tmp271_;
	GLfloat _tmp272_;
	GLfloat* _tmp273_;
	gint _tmp273__length1;
	gint _tmp273__length2;
	GLfloat* _tmp274_;
	gint _tmp274__length1;
	GLint _tmp275_;
	GLfloat _tmp276_;
	GLfloat _tmp277_;
	GLfloat* _tmp278_;
	gint _tmp278__length1;
	gint _tmp278__length2;
	GLfloat _tmp279_;
	GLfloat* _tmp280_;
	gint _tmp280__length1;
	gint _tmp280__length2;
	GLfloat _tmp281_;
	GLfloat* _tmp282_;
	gint _tmp282__length1;
	gint _tmp282__length2;
	GLfloat _tmp283_;
	GLfloat _tmp284_;
	GLint _tmp325_;
	g_return_if_fail (self != NULL);
	CACHE_SIZE = (GLuint) 240;
	_tmp0_ = CACHE_SIZE;
	_tmp1_ = g_new0 (GLfloat, _tmp0_);
	sinCache1a = _tmp1_;
	sinCache1a_length1 = _tmp0_;
	_sinCache1a_size_ = sinCache1a_length1;
	_tmp2_ = CACHE_SIZE;
	_tmp3_ = g_new0 (GLfloat, _tmp2_);
	cosCache1a = _tmp3_;
	cosCache1a_length1 = _tmp2_;
	_cosCache1a_size_ = cosCache1a_length1;
	_tmp4_ = CACHE_SIZE;
	_tmp5_ = g_new0 (GLfloat, _tmp4_);
	sinCache2a = _tmp5_;
	sinCache2a_length1 = _tmp4_;
	_sinCache2a_size_ = sinCache2a_length1;
	_tmp6_ = CACHE_SIZE;
	_tmp7_ = g_new0 (GLfloat, _tmp6_);
	cosCache2a = _tmp7_;
	cosCache2a_length1 = _tmp6_;
	_cosCache2a_size_ = cosCache2a_length1;
	_tmp8_ = CACHE_SIZE;
	_tmp9_ = g_new0 (GLfloat, _tmp8_);
	sinCache3a = _tmp9_;
	sinCache3a_length1 = _tmp8_;
	_sinCache3a_size_ = sinCache3a_length1;
	_tmp10_ = CACHE_SIZE;
	_tmp11_ = g_new0 (GLfloat, _tmp10_);
	cosCache3a = _tmp11_;
	cosCache3a_length1 = _tmp10_;
	_cosCache3a_size_ = cosCache3a_length1;
	_tmp12_ = CACHE_SIZE;
	_tmp13_ = g_new0 (GLfloat, _tmp12_);
	sinCache1b = _tmp13_;
	sinCache1b_length1 = _tmp12_;
	_sinCache1b_size_ = sinCache1b_length1;
	_tmp14_ = CACHE_SIZE;
	_tmp15_ = g_new0 (GLfloat, _tmp14_);
	cosCache1b = _tmp15_;
	cosCache1b_length1 = _tmp14_;
	_cosCache1b_size_ = cosCache1b_length1;
	_tmp16_ = CACHE_SIZE;
	_tmp17_ = g_new0 (GLfloat, _tmp16_);
	sinCache2b = _tmp17_;
	sinCache2b_length1 = _tmp16_;
	_sinCache2b_size_ = sinCache2b_length1;
	_tmp18_ = CACHE_SIZE;
	_tmp19_ = g_new0 (GLfloat, _tmp18_);
	cosCache2b = _tmp19_;
	cosCache2b_length1 = _tmp18_;
	_cosCache2b_size_ = cosCache2b_length1;
	_tmp20_ = CACHE_SIZE;
	_tmp21_ = g_new0 (GLfloat, _tmp20_);
	sinCache3b = _tmp21_;
	sinCache3b_length1 = _tmp20_;
	_sinCache3b_size_ = sinCache3b_length1;
	_tmp22_ = CACHE_SIZE;
	_tmp23_ = g_new0 (GLfloat, _tmp22_);
	cosCache3b = _tmp23_;
	cosCache3b_length1 = _tmp22_;
	_cosCache3b_size_ = cosCache3b_length1;
	sintemp1 = 0.0f;
	sintemp2 = 0.0f;
	sintemp3 = 0.0f;
	sintemp4 = 0.0f;
	costemp3 = 0.0f;
	costemp4 = 0.0f;
	_tmp24_ = CACHE_SIZE;
	_tmp25_ = g_new0 (GLfloat, ((_tmp24_ + 1) * 2) * 3);
	vertices = _tmp25_;
	vertices_length1 = (_tmp24_ + 1) * 2;
	vertices_length2 = 3;
	_tmp26_ = CACHE_SIZE;
	_tmp27_ = g_new0 (GLfloat, ((_tmp26_ + 1) * 2) * 3);
	normals = _tmp27_;
	normals_length1 = (_tmp26_ + 1) * 2;
	normals_length2 = 3;
	_tmp28_ = slices;
	_tmp29_ = CACHE_SIZE;
	if (((GLuint) _tmp28_) >= _tmp29_) {
		GLuint _tmp30_;
		_tmp30_ = CACHE_SIZE;
		slices = (GLint) (_tmp30_ - 1);
	}
	_tmp31_ = stacks;
	_tmp32_ = CACHE_SIZE;
	if (((GLuint) _tmp31_) >= _tmp32_) {
		GLuint _tmp33_;
		_tmp33_ = CACHE_SIZE;
		stacks = (GLint) (_tmp33_ - 1);
	}
	_tmp36_ = slices;
	if (_tmp36_ >= ((GLint) 2)) {
		GLint _tmp37_;
		_tmp37_ = stacks;
		_tmp35_ = _tmp37_ >= ((GLint) 1);
	} else {
		_tmp35_ = FALSE;
	}
	_tmp38_ = _tmp35_;
	if (_tmp38_) {
		GLfloat _tmp39_;
		_tmp39_ = radius;
		_tmp34_ = ((gdouble) _tmp39_) >= 0.0;
	} else {
		_tmp34_ = FALSE;
	}
	_tmp40_ = _tmp34_;
	_vala_assert (_tmp40_, "slices>=2 && stacks>=1 && radius>=0.0");
	{
		gint i;
		i = 0;
		{
			gboolean _tmp41_;
			_tmp41_ = TRUE;
			while (TRUE) {
				gboolean _tmp42_;
				GLint _tmp44_;
				gint _tmp45_;
				GLint _tmp46_;
				gdouble angle;
				GLfloat* _tmp47_;
				gint _tmp47__length1;
				gint _tmp48_;
				gdouble _tmp49_;
				gdouble _tmp50_ = 0.0;
				GLfloat _tmp51_;
				GLfloat* _tmp52_;
				gint _tmp52__length1;
				gint _tmp53_;
				gdouble _tmp54_;
				gdouble _tmp55_ = 0.0;
				GLfloat _tmp56_;
				GLfloat* _tmp57_;
				gint _tmp57__length1;
				gint _tmp58_;
				GLfloat* _tmp59_;
				gint _tmp59__length1;
				gint _tmp60_;
				GLfloat _tmp61_;
				GLfloat _tmp62_;
				GLfloat* _tmp63_;
				gint _tmp63__length1;
				gint _tmp64_;
				GLfloat* _tmp65_;
				gint _tmp65__length1;
				gint _tmp66_;
				GLfloat _tmp67_;
				GLfloat _tmp68_;
				_tmp42_ = _tmp41_;
				if (!_tmp42_) {
					gint _tmp43_;
					_tmp43_ = i;
					i = _tmp43_ + 1;
				}
				_tmp41_ = FALSE;
				_tmp44_ = slices;
				if (!(i <= ((gint) (_tmp44_ - 1)))) {
					break;
				}
				_tmp45_ = i;
				_tmp46_ = slices;
				angle = ((2.0f * G_PI) * _tmp45_) / _tmp46_;
				_tmp47_ = sinCache1a;
				_tmp47__length1 = sinCache1a_length1;
				_tmp48_ = i;
				_tmp49_ = angle;
				_tmp50_ = sin (_tmp49_);
				_tmp47_[_tmp48_] = (GLfloat) _tmp50_;
				_tmp51_ = _tmp47_[_tmp48_];
				_tmp52_ = cosCache1a;
				_tmp52__length1 = cosCache1a_length1;
				_tmp53_ = i;
				_tmp54_ = angle;
				_tmp55_ = cos (_tmp54_);
				_tmp52_[_tmp53_] = (GLfloat) _tmp55_;
				_tmp56_ = _tmp52_[_tmp53_];
				_tmp57_ = sinCache2a;
				_tmp57__length1 = sinCache2a_length1;
				_tmp58_ = i;
				_tmp59_ = sinCache1a;
				_tmp59__length1 = sinCache1a_length1;
				_tmp60_ = i;
				_tmp61_ = _tmp59_[_tmp60_];
				_tmp57_[_tmp58_] = _tmp61_;
				_tmp62_ = _tmp57_[_tmp58_];
				_tmp63_ = cosCache2a;
				_tmp63__length1 = cosCache2a_length1;
				_tmp64_ = i;
				_tmp65_ = cosCache1a;
				_tmp65__length1 = cosCache1a_length1;
				_tmp66_ = i;
				_tmp67_ = _tmp65_[_tmp66_];
				_tmp63_[_tmp64_] = _tmp67_;
				_tmp68_ = _tmp63_[_tmp64_];
			}
		}
	}
	{
		gint j;
		j = 0;
		{
			gboolean _tmp69_;
			_tmp69_ = TRUE;
			while (TRUE) {
				gboolean _tmp70_;
				GLint _tmp72_;
				gint _tmp73_;
				GLint _tmp74_;
				gdouble angle;
				GLfloat* _tmp75_;
				gint _tmp75__length1;
				gint _tmp76_;
				gdouble _tmp77_;
				gdouble _tmp78_ = 0.0;
				GLfloat _tmp79_;
				GLfloat* _tmp80_;
				gint _tmp80__length1;
				gint _tmp81_;
				gdouble _tmp82_;
				gdouble _tmp83_ = 0.0;
				GLfloat _tmp84_;
				GLfloat* _tmp85_;
				gint _tmp85__length1;
				gint _tmp86_;
				GLfloat _tmp87_;
				gdouble _tmp88_;
				gdouble _tmp89_ = 0.0;
				GLfloat _tmp90_;
				GLfloat* _tmp91_;
				gint _tmp91__length1;
				gint _tmp92_;
				GLfloat _tmp93_;
				gdouble _tmp94_;
				gdouble _tmp95_ = 0.0;
				GLfloat _tmp96_;
				_tmp70_ = _tmp69_;
				if (!_tmp70_) {
					gint _tmp71_;
					_tmp71_ = j;
					j = _tmp71_ + 1;
				}
				_tmp69_ = FALSE;
				_tmp72_ = stacks;
				if (!(j <= ((gint) (_tmp72_ - 1)))) {
					break;
				}
				_tmp73_ = j;
				_tmp74_ = stacks;
				angle = (G_PI * _tmp73_) / _tmp74_;
				_tmp75_ = sinCache2b;
				_tmp75__length1 = sinCache2b_length1;
				_tmp76_ = j;
				_tmp77_ = angle;
				_tmp78_ = sin (_tmp77_);
				_tmp75_[_tmp76_] = (GLfloat) _tmp78_;
				_tmp79_ = _tmp75_[_tmp76_];
				_tmp80_ = cosCache2b;
				_tmp80__length1 = cosCache2b_length1;
				_tmp81_ = j;
				_tmp82_ = angle;
				_tmp83_ = cos (_tmp82_);
				_tmp80_[_tmp81_] = (GLfloat) _tmp83_;
				_tmp84_ = _tmp80_[_tmp81_];
				_tmp85_ = sinCache1b;
				_tmp85__length1 = sinCache1b_length1;
				_tmp86_ = j;
				_tmp87_ = radius;
				_tmp88_ = angle;
				_tmp89_ = sin (_tmp88_);
				_tmp85_[_tmp86_] = (GLfloat) (_tmp87_ * _tmp89_);
				_tmp90_ = _tmp85_[_tmp86_];
				_tmp91_ = cosCache1b;
				_tmp91__length1 = cosCache1b_length1;
				_tmp92_ = j;
				_tmp93_ = radius;
				_tmp94_ = angle;
				_tmp95_ = cos (_tmp94_);
				_tmp91_[_tmp92_] = (GLfloat) (_tmp93_ * _tmp95_);
				_tmp96_ = _tmp91_[_tmp92_];
			}
		}
	}
	_tmp97_ = sinCache1b;
	_tmp97__length1 = sinCache1b_length1;
	_tmp97_[0] = (GLfloat) 0;
	_tmp98_ = _tmp97_[0];
	_tmp99_ = sinCache1b;
	_tmp99__length1 = sinCache1b_length1;
	_tmp100_ = stacks;
	_tmp99_[_tmp100_] = (GLfloat) 0;
	_tmp101_ = _tmp99_[_tmp100_];
	{
		gint i;
		i = 0;
		{
			gboolean _tmp102_;
			_tmp102_ = TRUE;
			while (TRUE) {
				gboolean _tmp103_;
				GLint _tmp105_;
				gint _tmp106_;
				GLint _tmp107_;
				gdouble angle;
				GLfloat* _tmp108_;
				gint _tmp108__length1;
				gint _tmp109_;
				gdouble _tmp110_;
				gdouble _tmp111_ = 0.0;
				GLfloat _tmp112_;
				GLfloat* _tmp113_;
				gint _tmp113__length1;
				gint _tmp114_;
				gdouble _tmp115_;
				gdouble _tmp116_ = 0.0;
				GLfloat _tmp117_;
				_tmp103_ = _tmp102_;
				if (!_tmp103_) {
					gint _tmp104_;
					_tmp104_ = i;
					i = _tmp104_ + 1;
				}
				_tmp102_ = FALSE;
				_tmp105_ = slices;
				if (!(i <= ((gint) (_tmp105_ - 1)))) {
					break;
				}
				_tmp106_ = i;
				_tmp107_ = slices;
				angle = ((2.0f * G_PI) * (_tmp106_ - 0.5f)) / _tmp107_;
				_tmp108_ = sinCache3a;
				_tmp108__length1 = sinCache3a_length1;
				_tmp109_ = i;
				_tmp110_ = angle;
				_tmp111_ = sin (_tmp110_);
				_tmp108_[_tmp109_] = (GLfloat) _tmp111_;
				_tmp112_ = _tmp108_[_tmp109_];
				_tmp113_ = cosCache3a;
				_tmp113__length1 = cosCache3a_length1;
				_tmp114_ = i;
				_tmp115_ = angle;
				_tmp116_ = cos (_tmp115_);
				_tmp113_[_tmp114_] = (GLfloat) _tmp116_;
				_tmp117_ = _tmp113_[_tmp114_];
			}
		}
	}
	{
		gint j;
		j = 0;
		{
			gboolean _tmp118_;
			_tmp118_ = TRUE;
			while (TRUE) {
				gboolean _tmp119_;
				GLint _tmp121_;
				gint _tmp122_;
				GLint _tmp123_;
				gdouble angle;
				GLfloat* _tmp124_;
				gint _tmp124__length1;
				gint _tmp125_;
				gdouble _tmp126_;
				gdouble _tmp127_ = 0.0;
				GLfloat _tmp128_;
				GLfloat* _tmp129_;
				gint _tmp129__length1;
				gint _tmp130_;
				gdouble _tmp131_;
				gdouble _tmp132_ = 0.0;
				GLfloat _tmp133_;
				_tmp119_ = _tmp118_;
				if (!_tmp119_) {
					gint _tmp120_;
					_tmp120_ = j;
					j = _tmp120_ + 1;
				}
				_tmp118_ = FALSE;
				_tmp121_ = stacks;
				if (!(j <= ((gint) _tmp121_))) {
					break;
				}
				_tmp122_ = j;
				_tmp123_ = stacks;
				angle = (G_PI * (_tmp122_ - 0.5f)) / _tmp123_;
				_tmp124_ = sinCache3b;
				_tmp124__length1 = sinCache3b_length1;
				_tmp125_ = j;
				_tmp126_ = angle;
				_tmp127_ = sin (_tmp126_);
				_tmp124_[_tmp125_] = (GLfloat) _tmp127_;
				_tmp128_ = _tmp124_[_tmp125_];
				_tmp129_ = cosCache3b;
				_tmp129__length1 = cosCache3b_length1;
				_tmp130_ = j;
				_tmp131_ = angle;
				_tmp132_ = cos (_tmp131_);
				_tmp129_[_tmp130_] = (GLfloat) _tmp132_;
				_tmp133_ = _tmp129_[_tmp130_];
			}
		}
	}
	_tmp134_ = sinCache1a;
	_tmp134__length1 = sinCache1a_length1;
	_tmp135_ = slices;
	_tmp136_ = sinCache1a;
	_tmp136__length1 = sinCache1a_length1;
	_tmp137_ = _tmp136_[0];
	_tmp134_[_tmp135_] = _tmp137_;
	_tmp138_ = _tmp134_[_tmp135_];
	_tmp139_ = cosCache1a;
	_tmp139__length1 = cosCache1a_length1;
	_tmp140_ = slices;
	_tmp141_ = cosCache1a;
	_tmp141__length1 = cosCache1a_length1;
	_tmp142_ = _tmp141_[0];
	_tmp139_[_tmp140_] = _tmp142_;
	_tmp143_ = _tmp139_[_tmp140_];
	_tmp144_ = sinCache2a;
	_tmp144__length1 = sinCache2a_length1;
	_tmp145_ = slices;
	_tmp146_ = sinCache2a;
	_tmp146__length1 = sinCache2a_length1;
	_tmp147_ = _tmp146_[0];
	_tmp144_[_tmp145_] = _tmp147_;
	_tmp148_ = _tmp144_[_tmp145_];
	_tmp149_ = cosCache2a;
	_tmp149__length1 = cosCache2a_length1;
	_tmp150_ = slices;
	_tmp151_ = cosCache2a;
	_tmp151__length1 = cosCache2a_length1;
	_tmp152_ = _tmp151_[0];
	_tmp149_[_tmp150_] = _tmp152_;
	_tmp153_ = _tmp149_[_tmp150_];
	_tmp154_ = sinCache3a;
	_tmp154__length1 = sinCache3a_length1;
	_tmp155_ = slices;
	_tmp156_ = sinCache3a;
	_tmp156__length1 = sinCache3a_length1;
	_tmp157_ = _tmp156_[0];
	_tmp154_[_tmp155_] = _tmp157_;
	_tmp158_ = _tmp154_[_tmp155_];
	_tmp159_ = cosCache3a;
	_tmp159__length1 = cosCache3a_length1;
	_tmp160_ = slices;
	_tmp161_ = cosCache3a;
	_tmp161__length1 = cosCache3a_length1;
	_tmp162_ = _tmp161_[0];
	_tmp159_[_tmp160_] = _tmp162_;
	_tmp163_ = _tmp159_[_tmp160_];
	glEnableClientState (GL_VERTEX_ARRAY);
	_tmp164_ = vertices;
	_tmp164__length1 = vertices_length1;
	_tmp164__length2 = vertices_length2;
	glVertexPointer ((GLint) 3, GL_FLOAT, (GLsizei) 0, _tmp164_);
	glDisableClientState (GL_TEXTURE_COORD_ARRAY);
	glEnableClientState (GL_NORMAL_ARRAY);
	_tmp165_ = normals;
	_tmp165__length1 = normals_length1;
	_tmp165__length2 = normals_length2;
	glNormalPointer (GL_FLOAT, (GLsizei) 0, _tmp165_);
	start = 1;
	_tmp166_ = stacks;
	finish = _tmp166_ - 1;
	_tmp167_ = sinCache1b;
	_tmp167__length1 = sinCache1b_length1;
	_tmp168_ = _tmp167_[1];
	sintemp2 = (gfloat) _tmp168_;
	_tmp169_ = cosCache1b;
	_tmp169__length1 = cosCache1b_length1;
	_tmp170_ = _tmp169_[1];
	zHigh = _tmp170_;
	_tmp171_ = sinCache2b;
	_tmp171__length1 = sinCache2b_length1;
	_tmp172_ = _tmp171_[1];
	sintemp3 = (gfloat) _tmp172_;
	_tmp173_ = cosCache2b;
	_tmp173__length1 = cosCache2b_length1;
	_tmp174_ = _tmp173_[1];
	costemp3 = (gfloat) _tmp174_;
	_tmp175_ = normals;
	_tmp175__length1 = normals_length1;
	_tmp175__length2 = normals_length2;
	_tmp176_ = sinCache2a;
	_tmp176__length1 = sinCache2a_length1;
	_tmp177_ = _tmp176_[0];
	_tmp178_ = sinCache2b;
	_tmp178__length1 = sinCache2b_length1;
	_tmp179_ = _tmp178_[0];
	_tmp175_[(0 * _tmp175__length2) + 0] = _tmp177_ * _tmp179_;
	_tmp180_ = _tmp175_[(0 * _tmp175__length2) + 0];
	_tmp181_ = normals;
	_tmp181__length1 = normals_length1;
	_tmp181__length2 = normals_length2;
	_tmp182_ = cosCache2a;
	_tmp182__length1 = cosCache2a_length1;
	_tmp183_ = _tmp182_[0];
	_tmp184_ = sinCache2b;
	_tmp184__length1 = sinCache2b_length1;
	_tmp185_ = _tmp184_[0];
	_tmp181_[(0 * _tmp181__length2) + 1] = _tmp183_ * _tmp185_;
	_tmp186_ = _tmp181_[(0 * _tmp181__length2) + 1];
	_tmp187_ = normals;
	_tmp187__length1 = normals_length1;
	_tmp187__length2 = normals_length2;
	_tmp188_ = cosCache2b;
	_tmp188__length1 = cosCache2b_length1;
	_tmp189_ = _tmp188_[0];
	_tmp187_[(0 * _tmp187__length2) + 2] = _tmp189_;
	_tmp190_ = _tmp187_[(0 * _tmp187__length2) + 2];
	_tmp191_ = vertices;
	_tmp191__length1 = vertices_length1;
	_tmp191__length2 = vertices_length2;
	_tmp191_[(0 * _tmp191__length2) + 0] = (GLfloat) 0.0f;
	_tmp192_ = _tmp191_[(0 * _tmp191__length2) + 0];
	_tmp193_ = vertices;
	_tmp193__length1 = vertices_length1;
	_tmp193__length2 = vertices_length2;
	_tmp193_[(0 * _tmp193__length2) + 1] = (GLfloat) 0.0f;
	_tmp194_ = _tmp193_[(0 * _tmp193__length2) + 1];
	_tmp195_ = vertices;
	_tmp195__length1 = vertices_length1;
	_tmp195__length2 = vertices_length2;
	_tmp196_ = radius;
	_tmp195_[(0 * _tmp195__length2) + 2] = _tmp196_;
	_tmp197_ = _tmp195_[(0 * _tmp195__length2) + 2];
	{
		gint i;
		i = 0;
		{
			gboolean _tmp198_;
			_tmp198_ = TRUE;
			while (TRUE) {
				gboolean _tmp199_;
				GLint _tmp201_;
				GLfloat* _tmp202_;
				gint _tmp202__length1;
				gint _tmp202__length2;
				GLint _tmp203_;
				gint _tmp204_;
				GLfloat* _tmp205_;
				gint _tmp205__length1;
				gint _tmp206_;
				GLfloat _tmp207_;
				gfloat _tmp208_;
				GLfloat _tmp209_;
				GLfloat* _tmp210_;
				gint _tmp210__length1;
				gint _tmp210__length2;
				GLint _tmp211_;
				gint _tmp212_;
				GLfloat* _tmp213_;
				gint _tmp213__length1;
				gint _tmp214_;
				GLfloat _tmp215_;
				gfloat _tmp216_;
				GLfloat _tmp217_;
				GLfloat* _tmp218_;
				gint _tmp218__length1;
				gint _tmp218__length2;
				GLint _tmp219_;
				gint _tmp220_;
				gfloat _tmp221_;
				GLfloat _tmp222_;
				GLfloat* _tmp223_;
				gint _tmp223__length1;
				gint _tmp223__length2;
				GLint _tmp224_;
				gint _tmp225_;
				gfloat _tmp226_;
				GLfloat* _tmp227_;
				gint _tmp227__length1;
				gint _tmp228_;
				GLfloat _tmp229_;
				GLfloat _tmp230_;
				GLfloat* _tmp231_;
				gint _tmp231__length1;
				gint _tmp231__length2;
				GLint _tmp232_;
				gint _tmp233_;
				gfloat _tmp234_;
				GLfloat* _tmp235_;
				gint _tmp235__length1;
				gint _tmp236_;
				GLfloat _tmp237_;
				GLfloat _tmp238_;
				GLfloat* _tmp239_;
				gint _tmp239__length1;
				gint _tmp239__length2;
				GLint _tmp240_;
				gint _tmp241_;
				GLfloat _tmp242_;
				GLfloat _tmp243_;
				_tmp199_ = _tmp198_;
				if (!_tmp199_) {
					gint _tmp200_;
					_tmp200_ = i;
					i = _tmp200_ + 1;
				}
				_tmp198_ = FALSE;
				_tmp201_ = slices;
				if (!(i <= ((gint) _tmp201_))) {
					break;
				}
				_tmp202_ = normals;
				_tmp202__length1 = normals_length1;
				_tmp202__length2 = normals_length2;
				_tmp203_ = slices;
				_tmp204_ = i;
				_tmp205_ = sinCache2a;
				_tmp205__length1 = sinCache2a_length1;
				_tmp206_ = i;
				_tmp207_ = _tmp205_[_tmp206_];
				_tmp208_ = sintemp3;
				_tmp202_[(((_tmp203_ - _tmp204_) + 1) * _tmp202__length2) + 0] = _tmp207_ * _tmp208_;
				_tmp209_ = _tmp202_[(((_tmp203_ - _tmp204_) + 1) * _tmp202__length2) + 0];
				_tmp210_ = normals;
				_tmp210__length1 = normals_length1;
				_tmp210__length2 = normals_length2;
				_tmp211_ = slices;
				_tmp212_ = i;
				_tmp213_ = cosCache2a;
				_tmp213__length1 = cosCache2a_length1;
				_tmp214_ = i;
				_tmp215_ = _tmp213_[_tmp214_];
				_tmp216_ = sintemp3;
				_tmp210_[(((_tmp211_ - _tmp212_) + 1) * _tmp210__length2) + 1] = _tmp215_ * _tmp216_;
				_tmp217_ = _tmp210_[(((_tmp211_ - _tmp212_) + 1) * _tmp210__length2) + 1];
				_tmp218_ = normals;
				_tmp218__length1 = normals_length1;
				_tmp218__length2 = normals_length2;
				_tmp219_ = slices;
				_tmp220_ = i;
				_tmp221_ = costemp3;
				_tmp218_[(((_tmp219_ - _tmp220_) + 1) * _tmp218__length2) + 2] = (GLfloat) _tmp221_;
				_tmp222_ = _tmp218_[(((_tmp219_ - _tmp220_) + 1) * _tmp218__length2) + 2];
				_tmp223_ = vertices;
				_tmp223__length1 = vertices_length1;
				_tmp223__length2 = vertices_length2;
				_tmp224_ = slices;
				_tmp225_ = i;
				_tmp226_ = sintemp2;
				_tmp227_ = sinCache1a;
				_tmp227__length1 = sinCache1a_length1;
				_tmp228_ = i;
				_tmp229_ = _tmp227_[_tmp228_];
				_tmp223_[(((_tmp224_ - _tmp225_) + 1) * _tmp223__length2) + 0] = (GLfloat) (_tmp226_ * _tmp229_);
				_tmp230_ = _tmp223_[(((_tmp224_ - _tmp225_) + 1) * _tmp223__length2) + 0];
				_tmp231_ = vertices;
				_tmp231__length1 = vertices_length1;
				_tmp231__length2 = vertices_length2;
				_tmp232_ = slices;
				_tmp233_ = i;
				_tmp234_ = sintemp2;
				_tmp235_ = cosCache1a;
				_tmp235__length1 = cosCache1a_length1;
				_tmp236_ = i;
				_tmp237_ = _tmp235_[_tmp236_];
				_tmp231_[(((_tmp232_ - _tmp233_) + 1) * _tmp231__length2) + 1] = (GLfloat) (_tmp234_ * _tmp237_);
				_tmp238_ = _tmp231_[(((_tmp232_ - _tmp233_) + 1) * _tmp231__length2) + 1];
				_tmp239_ = vertices;
				_tmp239__length1 = vertices_length1;
				_tmp239__length2 = vertices_length2;
				_tmp240_ = slices;
				_tmp241_ = i;
				_tmp242_ = zHigh;
				_tmp239_[(((_tmp240_ - _tmp241_) + 1) * _tmp239__length2) + 2] = _tmp242_;
				_tmp243_ = _tmp239_[(((_tmp240_ - _tmp241_) + 1) * _tmp239__length2) + 2];
			}
		}
	}
	_tmp244_ = slices;
	glDrawArrays (GL_TRIANGLE_FAN, (GLint) 0, (GLsizei) (_tmp244_ + 2));
	_tmp245_ = sinCache1b;
	_tmp245__length1 = sinCache1b_length1;
	_tmp246_ = stacks;
	_tmp247_ = _tmp245_[_tmp246_ - 1];
	sintemp2 = (gfloat) _tmp247_;
	_tmp248_ = cosCache1b;
	_tmp248__length1 = cosCache1b_length1;
	_tmp249_ = stacks;
	_tmp250_ = _tmp248_[_tmp249_ - 1];
	zHigh = _tmp250_;
	_tmp251_ = sinCache2b;
	_tmp251__length1 = sinCache2b_length1;
	_tmp252_ = stacks;
	_tmp253_ = _tmp251_[_tmp252_ - 1];
	sintemp3 = (gfloat) _tmp253_;
	_tmp254_ = cosCache2b;
	_tmp254__length1 = cosCache2b_length1;
	_tmp255_ = stacks;
	_tmp256_ = _tmp254_[_tmp255_ - 1];
	costemp3 = (gfloat) _tmp256_;
	_tmp257_ = normals;
	_tmp257__length1 = normals_length1;
	_tmp257__length2 = normals_length2;
	_tmp258_ = sinCache2a;
	_tmp258__length1 = sinCache2a_length1;
	_tmp259_ = stacks;
	_tmp260_ = _tmp258_[_tmp259_];
	_tmp261_ = sinCache2b;
	_tmp261__length1 = sinCache2b_length1;
	_tmp262_ = stacks;
	_tmp263_ = _tmp261_[_tmp262_];
	_tmp257_[(0 * _tmp257__length2) + 0] = _tmp260_ * _tmp263_;
	_tmp264_ = _tmp257_[(0 * _tmp257__length2) + 0];
	_tmp265_ = normals;
	_tmp265__length1 = normals_length1;
	_tmp265__length2 = normals_length2;
	_tmp266_ = cosCache2a;
	_tmp266__length1 = cosCache2a_length1;
	_tmp267_ = stacks;
	_tmp268_ = _tmp266_[_tmp267_];
	_tmp269_ = sinCache2b;
	_tmp269__length1 = sinCache2b_length1;
	_tmp270_ = stacks;
	_tmp271_ = _tmp269_[_tmp270_];
	_tmp265_[(0 * _tmp265__length2) + 1] = _tmp268_ * _tmp271_;
	_tmp272_ = _tmp265_[(0 * _tmp265__length2) + 1];
	_tmp273_ = normals;
	_tmp273__length1 = normals_length1;
	_tmp273__length2 = normals_length2;
	_tmp274_ = cosCache2b;
	_tmp274__length1 = cosCache2b_length1;
	_tmp275_ = stacks;
	_tmp276_ = _tmp274_[_tmp275_];
	_tmp273_[(0 * _tmp273__length2) + 2] = _tmp276_;
	_tmp277_ = _tmp273_[(0 * _tmp273__length2) + 2];
	_tmp278_ = vertices;
	_tmp278__length1 = vertices_length1;
	_tmp278__length2 = vertices_length2;
	_tmp278_[(0 * _tmp278__length2) + 0] = (GLfloat) 0.0f;
	_tmp279_ = _tmp278_[(0 * _tmp278__length2) + 0];
	_tmp280_ = vertices;
	_tmp280__length1 = vertices_length1;
	_tmp280__length2 = vertices_length2;
	_tmp280_[(0 * _tmp280__length2) + 1] = (GLfloat) 0.0f;
	_tmp281_ = _tmp280_[(0 * _tmp280__length2) + 1];
	_tmp282_ = vertices;
	_tmp282__length1 = vertices_length1;
	_tmp282__length2 = vertices_length2;
	_tmp283_ = radius;
	_tmp282_[(0 * _tmp282__length2) + 2] = -_tmp283_;
	_tmp284_ = _tmp282_[(0 * _tmp282__length2) + 2];
	{
		gint i;
		i = 0;
		{
			gboolean _tmp285_;
			_tmp285_ = TRUE;
			while (TRUE) {
				gboolean _tmp286_;
				GLint _tmp288_;
				GLfloat* _tmp289_;
				gint _tmp289__length1;
				gint _tmp289__length2;
				gint _tmp290_;
				GLfloat* _tmp291_;
				gint _tmp291__length1;
				gint _tmp292_;
				GLfloat _tmp293_;
				gfloat _tmp294_;
				GLfloat _tmp295_;
				GLfloat* _tmp296_;
				gint _tmp296__length1;
				gint _tmp296__length2;
				gint _tmp297_;
				GLfloat* _tmp298_;
				gint _tmp298__length1;
				gint _tmp299_;
				GLfloat _tmp300_;
				gfloat _tmp301_;
				GLfloat _tmp302_;
				GLfloat* _tmp303_;
				gint _tmp303__length1;
				gint _tmp303__length2;
				gint _tmp304_;
				gfloat _tmp305_;
				GLfloat _tmp306_;
				GLfloat* _tmp307_;
				gint _tmp307__length1;
				gint _tmp307__length2;
				gint _tmp308_;
				gfloat _tmp309_;
				GLfloat* _tmp310_;
				gint _tmp310__length1;
				gint _tmp311_;
				GLfloat _tmp312_;
				GLfloat _tmp313_;
				GLfloat* _tmp314_;
				gint _tmp314__length1;
				gint _tmp314__length2;
				gint _tmp315_;
				gfloat _tmp316_;
				GLfloat* _tmp317_;
				gint _tmp317__length1;
				gint _tmp318_;
				GLfloat _tmp319_;
				GLfloat _tmp320_;
				GLfloat* _tmp321_;
				gint _tmp321__length1;
				gint _tmp321__length2;
				gint _tmp322_;
				GLfloat _tmp323_;
				GLfloat _tmp324_;
				_tmp286_ = _tmp285_;
				if (!_tmp286_) {
					gint _tmp287_;
					_tmp287_ = i;
					i = _tmp287_ + 1;
				}
				_tmp285_ = FALSE;
				_tmp288_ = slices;
				if (!(i <= ((gint) _tmp288_))) {
					break;
				}
				_tmp289_ = normals;
				_tmp289__length1 = normals_length1;
				_tmp289__length2 = normals_length2;
				_tmp290_ = i;
				_tmp291_ = sinCache2a;
				_tmp291__length1 = sinCache2a_length1;
				_tmp292_ = i;
				_tmp293_ = _tmp291_[_tmp292_];
				_tmp294_ = sintemp3;
				_tmp289_[((_tmp290_ + 1) * _tmp289__length2) + 0] = _tmp293_ * _tmp294_;
				_tmp295_ = _tmp289_[((_tmp290_ + 1) * _tmp289__length2) + 0];
				_tmp296_ = normals;
				_tmp296__length1 = normals_length1;
				_tmp296__length2 = normals_length2;
				_tmp297_ = i;
				_tmp298_ = cosCache2a;
				_tmp298__length1 = cosCache2a_length1;
				_tmp299_ = i;
				_tmp300_ = _tmp298_[_tmp299_];
				_tmp301_ = sintemp3;
				_tmp296_[((_tmp297_ + 1) * _tmp296__length2) + 1] = _tmp300_ * _tmp301_;
				_tmp302_ = _tmp296_[((_tmp297_ + 1) * _tmp296__length2) + 1];
				_tmp303_ = normals;
				_tmp303__length1 = normals_length1;
				_tmp303__length2 = normals_length2;
				_tmp304_ = i;
				_tmp305_ = costemp3;
				_tmp303_[((_tmp304_ + 1) * _tmp303__length2) + 2] = (GLfloat) _tmp305_;
				_tmp306_ = _tmp303_[((_tmp304_ + 1) * _tmp303__length2) + 2];
				_tmp307_ = vertices;
				_tmp307__length1 = vertices_length1;
				_tmp307__length2 = vertices_length2;
				_tmp308_ = i;
				_tmp309_ = sintemp2;
				_tmp310_ = sinCache1a;
				_tmp310__length1 = sinCache1a_length1;
				_tmp311_ = i;
				_tmp312_ = _tmp310_[_tmp311_];
				_tmp307_[((_tmp308_ + 1) * _tmp307__length2) + 0] = (GLfloat) (_tmp309_ * _tmp312_);
				_tmp313_ = _tmp307_[((_tmp308_ + 1) * _tmp307__length2) + 0];
				_tmp314_ = vertices;
				_tmp314__length1 = vertices_length1;
				_tmp314__length2 = vertices_length2;
				_tmp315_ = i;
				_tmp316_ = sintemp2;
				_tmp317_ = cosCache1a;
				_tmp317__length1 = cosCache1a_length1;
				_tmp318_ = i;
				_tmp319_ = _tmp317_[_tmp318_];
				_tmp314_[((_tmp315_ + 1) * _tmp314__length2) + 1] = (GLfloat) (_tmp316_ * _tmp319_);
				_tmp320_ = _tmp314_[((_tmp315_ + 1) * _tmp314__length2) + 1];
				_tmp321_ = vertices;
				_tmp321__length1 = vertices_length1;
				_tmp321__length2 = vertices_length2;
				_tmp322_ = i;
				_tmp323_ = zHigh;
				_tmp321_[((_tmp322_ + 1) * _tmp321__length2) + 2] = _tmp323_;
				_tmp324_ = _tmp321_[((_tmp322_ + 1) * _tmp321__length2) + 2];
			}
		}
	}
	_tmp325_ = slices;
	glDrawArrays (GL_TRIANGLE_FAN, (GLint) 0, (GLsizei) (_tmp325_ + 2));
	{
		gint _tmp326_;
		gint j;
		_tmp326_ = start;
		j = _tmp326_;
		{
			gboolean _tmp327_;
			_tmp327_ = TRUE;
			while (TRUE) {
				gboolean _tmp328_;
				GLint _tmp330_;
				GLfloat* _tmp331_;
				gint _tmp331__length1;
				gint _tmp332_;
				GLfloat _tmp333_;
				GLfloat* _tmp334_;
				gint _tmp334__length1;
				gint _tmp335_;
				GLfloat _tmp336_;
				GLfloat* _tmp337_;
				gint _tmp337__length1;
				gint _tmp338_;
				GLfloat _tmp339_;
				GLfloat* _tmp340_;
				gint _tmp340__length1;
				gint _tmp341_;
				GLfloat _tmp342_;
				GLfloat* _tmp343_;
				gint _tmp343__length1;
				gint _tmp344_;
				GLfloat _tmp345_;
				GLfloat* _tmp346_;
				gint _tmp346__length1;
				gint _tmp347_;
				GLfloat _tmp348_;
				GLfloat* _tmp349_;
				gint _tmp349__length1;
				gint _tmp350_;
				GLfloat _tmp351_;
				GLfloat* _tmp352_;
				gint _tmp352__length1;
				gint _tmp353_;
				GLfloat _tmp354_;
				GLint _tmp431_;
				_tmp328_ = _tmp327_;
				if (!_tmp328_) {
					gint _tmp329_;
					_tmp329_ = j;
					j = _tmp329_ + 1;
				}
				_tmp327_ = FALSE;
				_tmp330_ = finish;
				if (!(j <= ((gint) (_tmp330_ - 1)))) {
					break;
				}
				_tmp331_ = cosCache1b;
				_tmp331__length1 = cosCache1b_length1;
				_tmp332_ = j;
				_tmp333_ = _tmp331_[_tmp332_];
				zLow = _tmp333_;
				_tmp334_ = cosCache1b;
				_tmp334__length1 = cosCache1b_length1;
				_tmp335_ = j;
				_tmp336_ = _tmp334_[_tmp335_ + 1];
				zHigh = _tmp336_;
				_tmp337_ = sinCache1b;
				_tmp337__length1 = sinCache1b_length1;
				_tmp338_ = j;
				_tmp339_ = _tmp337_[_tmp338_];
				sintemp1 = (gfloat) _tmp339_;
				_tmp340_ = sinCache1b;
				_tmp340__length1 = sinCache1b_length1;
				_tmp341_ = j;
				_tmp342_ = _tmp340_[_tmp341_ + 1];
				sintemp2 = (gfloat) _tmp342_;
				_tmp343_ = sinCache2b;
				_tmp343__length1 = sinCache2b_length1;
				_tmp344_ = j;
				_tmp345_ = _tmp343_[_tmp344_ + 1];
				sintemp3 = (gfloat) _tmp345_;
				_tmp346_ = cosCache2b;
				_tmp346__length1 = cosCache2b_length1;
				_tmp347_ = j;
				_tmp348_ = _tmp346_[_tmp347_ + 1];
				costemp3 = (gfloat) _tmp348_;
				_tmp349_ = sinCache2b;
				_tmp349__length1 = sinCache2b_length1;
				_tmp350_ = j;
				_tmp351_ = _tmp349_[_tmp350_];
				sintemp4 = (gfloat) _tmp351_;
				_tmp352_ = cosCache2b;
				_tmp352__length1 = cosCache2b_length1;
				_tmp353_ = j;
				_tmp354_ = _tmp352_[_tmp353_];
				costemp4 = (gfloat) _tmp354_;
				{
					gint i;
					i = 0;
					{
						gboolean _tmp355_;
						_tmp355_ = TRUE;
						while (TRUE) {
							gboolean _tmp356_;
							GLint _tmp358_;
							GLfloat* _tmp359_;
							gint _tmp359__length1;
							gint _tmp359__length2;
							gint _tmp360_;
							GLfloat* _tmp361_;
							gint _tmp361__length1;
							gint _tmp362_;
							GLfloat _tmp363_;
							gfloat _tmp364_;
							GLfloat _tmp365_;
							GLfloat* _tmp366_;
							gint _tmp366__length1;
							gint _tmp366__length2;
							gint _tmp367_;
							GLfloat* _tmp368_;
							gint _tmp368__length1;
							gint _tmp369_;
							GLfloat _tmp370_;
							gfloat _tmp371_;
							GLfloat _tmp372_;
							GLfloat* _tmp373_;
							gint _tmp373__length1;
							gint _tmp373__length2;
							gint _tmp374_;
							gfloat _tmp375_;
							GLfloat _tmp376_;
							GLfloat* _tmp377_;
							gint _tmp377__length1;
							gint _tmp377__length2;
							gint _tmp378_;
							gfloat _tmp379_;
							GLfloat* _tmp380_;
							gint _tmp380__length1;
							gint _tmp381_;
							GLfloat _tmp382_;
							GLfloat _tmp383_;
							GLfloat* _tmp384_;
							gint _tmp384__length1;
							gint _tmp384__length2;
							gint _tmp385_;
							gfloat _tmp386_;
							GLfloat* _tmp387_;
							gint _tmp387__length1;
							gint _tmp388_;
							GLfloat _tmp389_;
							GLfloat _tmp390_;
							GLfloat* _tmp391_;
							gint _tmp391__length1;
							gint _tmp391__length2;
							gint _tmp392_;
							GLfloat _tmp393_;
							GLfloat _tmp394_;
							GLfloat* _tmp395_;
							gint _tmp395__length1;
							gint _tmp395__length2;
							gint _tmp396_;
							GLfloat* _tmp397_;
							gint _tmp397__length1;
							gint _tmp398_;
							GLfloat _tmp399_;
							gfloat _tmp400_;
							GLfloat _tmp401_;
							GLfloat* _tmp402_;
							gint _tmp402__length1;
							gint _tmp402__length2;
							gint _tmp403_;
							GLfloat* _tmp404_;
							gint _tmp404__length1;
							gint _tmp405_;
							GLfloat _tmp406_;
							gfloat _tmp407_;
							GLfloat _tmp408_;
							GLfloat* _tmp409_;
							gint _tmp409__length1;
							gint _tmp409__length2;
							gint _tmp410_;
							gfloat _tmp411_;
							GLfloat _tmp412_;
							GLfloat* _tmp413_;
							gint _tmp413__length1;
							gint _tmp413__length2;
							gint _tmp414_;
							gfloat _tmp415_;
							GLfloat* _tmp416_;
							gint _tmp416__length1;
							gint _tmp417_;
							GLfloat _tmp418_;
							GLfloat _tmp419_;
							GLfloat* _tmp420_;
							gint _tmp420__length1;
							gint _tmp420__length2;
							gint _tmp421_;
							gfloat _tmp422_;
							GLfloat* _tmp423_;
							gint _tmp423__length1;
							gint _tmp424_;
							GLfloat _tmp425_;
							GLfloat _tmp426_;
							GLfloat* _tmp427_;
							gint _tmp427__length1;
							gint _tmp427__length2;
							gint _tmp428_;
							GLfloat _tmp429_;
							GLfloat _tmp430_;
							_tmp356_ = _tmp355_;
							if (!_tmp356_) {
								gint _tmp357_;
								_tmp357_ = i;
								i = _tmp357_ + 1;
							}
							_tmp355_ = FALSE;
							_tmp358_ = slices;
							if (!(i <= ((gint) _tmp358_))) {
								break;
							}
							_tmp359_ = normals;
							_tmp359__length1 = normals_length1;
							_tmp359__length2 = normals_length2;
							_tmp360_ = i;
							_tmp361_ = sinCache2a;
							_tmp361__length1 = sinCache2a_length1;
							_tmp362_ = i;
							_tmp363_ = _tmp361_[_tmp362_];
							_tmp364_ = sintemp3;
							_tmp359_[((_tmp360_ * 2) * _tmp359__length2) + 0] = _tmp363_ * _tmp364_;
							_tmp365_ = _tmp359_[((_tmp360_ * 2) * _tmp359__length2) + 0];
							_tmp366_ = normals;
							_tmp366__length1 = normals_length1;
							_tmp366__length2 = normals_length2;
							_tmp367_ = i;
							_tmp368_ = cosCache2a;
							_tmp368__length1 = cosCache2a_length1;
							_tmp369_ = i;
							_tmp370_ = _tmp368_[_tmp369_];
							_tmp371_ = sintemp3;
							_tmp366_[((_tmp367_ * 2) * _tmp366__length2) + 1] = _tmp370_ * _tmp371_;
							_tmp372_ = _tmp366_[((_tmp367_ * 2) * _tmp366__length2) + 1];
							_tmp373_ = normals;
							_tmp373__length1 = normals_length1;
							_tmp373__length2 = normals_length2;
							_tmp374_ = i;
							_tmp375_ = costemp3;
							_tmp373_[((_tmp374_ * 2) * _tmp373__length2) + 2] = (GLfloat) _tmp375_;
							_tmp376_ = _tmp373_[((_tmp374_ * 2) * _tmp373__length2) + 2];
							_tmp377_ = vertices;
							_tmp377__length1 = vertices_length1;
							_tmp377__length2 = vertices_length2;
							_tmp378_ = i;
							_tmp379_ = sintemp2;
							_tmp380_ = sinCache1a;
							_tmp380__length1 = sinCache1a_length1;
							_tmp381_ = i;
							_tmp382_ = _tmp380_[_tmp381_];
							_tmp377_[((_tmp378_ * 2) * _tmp377__length2) + 0] = (GLfloat) (_tmp379_ * _tmp382_);
							_tmp383_ = _tmp377_[((_tmp378_ * 2) * _tmp377__length2) + 0];
							_tmp384_ = vertices;
							_tmp384__length1 = vertices_length1;
							_tmp384__length2 = vertices_length2;
							_tmp385_ = i;
							_tmp386_ = sintemp2;
							_tmp387_ = cosCache1a;
							_tmp387__length1 = cosCache1a_length1;
							_tmp388_ = i;
							_tmp389_ = _tmp387_[_tmp388_];
							_tmp384_[((_tmp385_ * 2) * _tmp384__length2) + 1] = (GLfloat) (_tmp386_ * _tmp389_);
							_tmp390_ = _tmp384_[((_tmp385_ * 2) * _tmp384__length2) + 1];
							_tmp391_ = vertices;
							_tmp391__length1 = vertices_length1;
							_tmp391__length2 = vertices_length2;
							_tmp392_ = i;
							_tmp393_ = zHigh;
							_tmp391_[((_tmp392_ * 2) * _tmp391__length2) + 2] = _tmp393_;
							_tmp394_ = _tmp391_[((_tmp392_ * 2) * _tmp391__length2) + 2];
							_tmp395_ = normals;
							_tmp395__length1 = normals_length1;
							_tmp395__length2 = normals_length2;
							_tmp396_ = i;
							_tmp397_ = sinCache2a;
							_tmp397__length1 = sinCache2a_length1;
							_tmp398_ = i;
							_tmp399_ = _tmp397_[_tmp398_];
							_tmp400_ = sintemp4;
							_tmp395_[(((_tmp396_ * 2) + 1) * _tmp395__length2) + 0] = _tmp399_ * _tmp400_;
							_tmp401_ = _tmp395_[(((_tmp396_ * 2) + 1) * _tmp395__length2) + 0];
							_tmp402_ = normals;
							_tmp402__length1 = normals_length1;
							_tmp402__length2 = normals_length2;
							_tmp403_ = i;
							_tmp404_ = cosCache2a;
							_tmp404__length1 = cosCache2a_length1;
							_tmp405_ = i;
							_tmp406_ = _tmp404_[_tmp405_];
							_tmp407_ = sintemp4;
							_tmp402_[(((_tmp403_ * 2) + 1) * _tmp402__length2) + 1] = _tmp406_ * _tmp407_;
							_tmp408_ = _tmp402_[(((_tmp403_ * 2) + 1) * _tmp402__length2) + 1];
							_tmp409_ = normals;
							_tmp409__length1 = normals_length1;
							_tmp409__length2 = normals_length2;
							_tmp410_ = i;
							_tmp411_ = costemp4;
							_tmp409_[(((_tmp410_ * 2) + 1) * _tmp409__length2) + 2] = (GLfloat) _tmp411_;
							_tmp412_ = _tmp409_[(((_tmp410_ * 2) + 1) * _tmp409__length2) + 2];
							_tmp413_ = vertices;
							_tmp413__length1 = vertices_length1;
							_tmp413__length2 = vertices_length2;
							_tmp414_ = i;
							_tmp415_ = sintemp1;
							_tmp416_ = sinCache1a;
							_tmp416__length1 = sinCache1a_length1;
							_tmp417_ = i;
							_tmp418_ = _tmp416_[_tmp417_];
							_tmp413_[(((_tmp414_ * 2) + 1) * _tmp413__length2) + 0] = (GLfloat) (_tmp415_ * _tmp418_);
							_tmp419_ = _tmp413_[(((_tmp414_ * 2) + 1) * _tmp413__length2) + 0];
							_tmp420_ = vertices;
							_tmp420__length1 = vertices_length1;
							_tmp420__length2 = vertices_length2;
							_tmp421_ = i;
							_tmp422_ = sintemp1;
							_tmp423_ = cosCache1a;
							_tmp423__length1 = cosCache1a_length1;
							_tmp424_ = i;
							_tmp425_ = _tmp423_[_tmp424_];
							_tmp420_[(((_tmp421_ * 2) + 1) * _tmp420__length2) + 1] = (GLfloat) (_tmp422_ * _tmp425_);
							_tmp426_ = _tmp420_[(((_tmp421_ * 2) + 1) * _tmp420__length2) + 1];
							_tmp427_ = vertices;
							_tmp427__length1 = vertices_length1;
							_tmp427__length2 = vertices_length2;
							_tmp428_ = i;
							_tmp429_ = zLow;
							_tmp427_[(((_tmp428_ * 2) + 1) * _tmp427__length2) + 2] = _tmp429_;
							_tmp430_ = _tmp427_[(((_tmp428_ * 2) + 1) * _tmp427__length2) + 2];
						}
					}
				}
				_tmp431_ = slices;
				glDrawArrays (GL_TRIANGLE_STRIP, (GLint) 0, (GLsizei) ((_tmp431_ + 1) * 2));
			}
		}
	}
	glDisableClientState (GL_VERTEX_ARRAY);
	glDisableClientState (GL_NORMAL_ARRAY);
	normals = (g_free (normals), NULL);
	vertices = (g_free (vertices), NULL);
	cosCache3b = (g_free (cosCache3b), NULL);
	sinCache3b = (g_free (sinCache3b), NULL);
	cosCache2b = (g_free (cosCache2b), NULL);
	sinCache2b = (g_free (sinCache2b), NULL);
	cosCache1b = (g_free (cosCache1b), NULL);
	sinCache1b = (g_free (sinCache1b), NULL);
	cosCache3a = (g_free (cosCache3a), NULL);
	sinCache3a = (g_free (sinCache3a), NULL);
	cosCache2a = (g_free (cosCache2a), NULL);
	sinCache2a = (g_free (sinCache2a), NULL);
	cosCache1a = (g_free (cosCache1a), NULL);
	sinCache1a = (g_free (sinCache1a), NULL);
}


soymaterialsMaterial* soy_bodies_sphere_get_material (soybodiesSphere* self) {
	soymaterialsMaterial* result;
	soymaterialsMaterial* _tmp0_;
	g_return_val_if_fail (self != NULL, NULL);
	_tmp0_ = self->priv->_material;
	result = _tmp0_;
	return result;
}


static gpointer _g_object_ref0 (gpointer self) {
	return self ? g_object_ref (self) : NULL;
}


void soy_bodies_sphere_set_material (soybodiesSphere* self, soymaterialsMaterial* value) {
	soymaterialsMaterial* _tmp0_;
	soymaterialsMaterial* _tmp1_;
	g_return_if_fail (self != NULL);
	g_mutex_lock (&((soybodiesBody*) self)->mutex);
	_tmp0_ = value;
	_tmp1_ = _g_object_ref0 (_tmp0_);
	_g_object_unref0 (self->priv->_material);
	self->priv->_material = _tmp1_;
	g_mutex_unlock (&((soybodiesBody*) self)->mutex);
	g_object_notify ((GObject *) self, "material");
}


gfloat soy_bodies_sphere_get_radius (soybodiesSphere* self) {
	gfloat result;
	GLfloat _tmp0_;
	g_return_val_if_fail (self != NULL, 0.0F);
	_tmp0_ = self->priv->_radius;
	result = (gfloat) _tmp0_;
	return result;
}


void soy_bodies_sphere_set_radius (soybodiesSphere* self, gfloat value) {
	soyscenesScene* _tmp0_;
	gfloat _tmp2_;
	struct dxGeom* _tmp3_;
	gfloat _tmp4_;
	soyscenesScene* _tmp5_;
	g_return_if_fail (self != NULL);
	_tmp0_ = ((soybodiesBody*) self)->scene;
	if (_tmp0_ != NULL) {
		soyscenesScene* _tmp1_;
		_tmp1_ = ((soybodiesBody*) self)->scene;
		g_rw_lock_writer_lock (&_tmp1_->stepLock);
	}
	_tmp2_ = value;
	self->priv->_radius = (GLfloat) _tmp2_;
	_tmp3_ = ((soybodiesBody*) self)->geom;
	_tmp4_ = value;
	dGeomSphereSetRadius ((struct dxGeom*) _tmp3_, (dReal) _tmp4_);
	_tmp5_ = ((soybodiesBody*) self)->scene;
	if (_tmp5_ != NULL) {
		soyscenesScene* _tmp6_;
		_tmp6_ = ((soybodiesBody*) self)->scene;
		g_rw_lock_writer_unlock (&_tmp6_->stepLock);
	}
	g_object_notify ((GObject *) self, "radius");
}


guint soy_bodies_sphere_get_subdivisions (soybodiesSphere* self) {
	guint result;
	guint _tmp0_;
	g_return_val_if_fail (self != NULL, 0U);
	_tmp0_ = self->priv->_subdivisions;
	result = _tmp0_;
	return result;
}


void soy_bodies_sphere_set_subdivisions (soybodiesSphere* self, guint value) {
	guint _tmp0_;
	g_return_if_fail (self != NULL);
	_tmp0_ = value;
	self->priv->_subdivisions = _tmp0_;
	g_object_notify ((GObject *) self, "subdivisions");
}


static void soy_bodies_sphere_class_init (soybodiesSphereClass * klass) {
	soy_bodies_sphere_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (soybodiesSpherePrivate));
	SOY_BODIES_BODY_CLASS (klass)->create_geom = soy_bodies_sphere_real_create_geom;
	SOY_BODIES_BODY_CLASS (klass)->volume = soy_bodies_sphere_real_volume;
	SOY_BODIES_BODY_CLASS (klass)->render = soy_bodies_sphere_real_render;
	G_OBJECT_CLASS (klass)->get_property = _vala_soy_bodies_sphere_get_property;
	G_OBJECT_CLASS (klass)->set_property = _vala_soy_bodies_sphere_set_property;
	G_OBJECT_CLASS (klass)->finalize = soy_bodies_sphere_finalize;
	g_object_class_install_property (G_OBJECT_CLASS (klass), SOY_BODIES_SPHERE_MATERIAL, g_param_spec_object ("material", "material", "material", SOY_MATERIALS_TYPE_MATERIAL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), SOY_BODIES_SPHERE_RADIUS, g_param_spec_float ("radius", "radius", "radius", -G_MAXFLOAT, G_MAXFLOAT, 0.0F, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
	g_object_class_install_property (G_OBJECT_CLASS (klass), SOY_BODIES_SPHERE_SUBDIVISIONS, g_param_spec_uint ("subdivisions", "subdivisions", "subdivisions", 0, G_MAXUINT, 0U, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
}


static void soy_bodies_sphere_instance_init (soybodiesSphere * self) {
	self->priv = SOY_BODIES_SPHERE_GET_PRIVATE (self);
}


static void soy_bodies_sphere_finalize (GObject* obj) {
	soybodiesSphere * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SOY_BODIES_TYPE_SPHERE, soybodiesSphere);
	_g_object_unref0 (self->priv->_material);
	G_OBJECT_CLASS (soy_bodies_sphere_parent_class)->finalize (obj);
}


GType soy_bodies_sphere_get_type (void) {
	static volatile gsize soy_bodies_sphere_type_id__volatile = 0;
	if (g_once_init_enter (&soy_bodies_sphere_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (soybodiesSphereClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) soy_bodies_sphere_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (soybodiesSphere), 0, (GInstanceInitFunc) soy_bodies_sphere_instance_init, NULL };
		GType soy_bodies_sphere_type_id;
		soy_bodies_sphere_type_id = g_type_register_static (SOY_BODIES_TYPE_BODY, "soybodiesSphere", &g_define_type_info, 0);
		g_once_init_leave (&soy_bodies_sphere_type_id__volatile, soy_bodies_sphere_type_id);
	}
	return soy_bodies_sphere_type_id__volatile;
}


static void _vala_soy_bodies_sphere_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	soybodiesSphere * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, SOY_BODIES_TYPE_SPHERE, soybodiesSphere);
	switch (property_id) {
		case SOY_BODIES_SPHERE_MATERIAL:
		g_value_set_object (value, soy_bodies_sphere_get_material (self));
		break;
		case SOY_BODIES_SPHERE_RADIUS:
		g_value_set_float (value, soy_bodies_sphere_get_radius (self));
		break;
		case SOY_BODIES_SPHERE_SUBDIVISIONS:
		g_value_set_uint (value, soy_bodies_sphere_get_subdivisions (self));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}


static void _vala_soy_bodies_sphere_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec) {
	soybodiesSphere * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, SOY_BODIES_TYPE_SPHERE, soybodiesSphere);
	switch (property_id) {
		case SOY_BODIES_SPHERE_MATERIAL:
		soy_bodies_sphere_set_material (self, g_value_get_object (value));
		break;
		case SOY_BODIES_SPHERE_RADIUS:
		soy_bodies_sphere_set_radius (self, g_value_get_float (value));
		break;
		case SOY_BODIES_SPHERE_SUBDIVISIONS:
		soy_bodies_sphere_set_subdivisions (self, g_value_get_uint (value));
		break;
		default:
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
		break;
	}
}



